====== INTRO ======

(╯°□°）╯︵ ┻━┻

The scripts in this folder allow to build a Flatpak package of Linux Show Player.

 * build_flatpak.sh: Combine the commands from "functions.sh" to run a complete build

 * config.sh: Some environment configuration

 * functions.sh: A collection of commands to build the flatpak

 * patch-flatpak.py: Patch the flatpak manifest to use the current CI branch/commit

 * poetry-flatpak.py: Starting from the project poetry.lock generate the appropriate modules to install the python requirements

====== REQUIREMENTS ======

 * ostree
 * flatpak >= 1.0
 * flatpak-builder
 * Python >= 3.6
 * (python) see "requirements.txt"
 * BUILD_BRANCH to be set.

====== DETAILS ======

=== Qt5 + PyQt5 ===

Instead of using the pypi package we build our own Qt binaries, this allow to
remove unused modules, and reduce (a lot) the size of the build, at the cost
of a longer build time.

=== OLA ===

Until version 0.11 we must use protobuf < 3.2, or it will not build,
if needed we may patch it, for now it's fine.

=== Protobuf ===

It's needed to "build" the OLA python package, which, can only be build
with all the OLA framework (--enable-python-libs)

Requires "six" and "setuptools", we install only the first, we
consider the second already shipped with the python version

====== NOTES ======

Non-used features of the various packages should be disabled when possible.
